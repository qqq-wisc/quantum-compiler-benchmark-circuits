import cirq
from qiskit.circuit.equivalence_library import StandardEquivalenceLibrary as sel
from qiskit.transpiler import PassManager
from qiskit.transpiler.passes import Decompose, BasisTranslator, SolovayKitaev
from qiskit import QuantumCircuit


def fetch_from_quirk():
    quirk_url = 'https://algassert.com/quirk#circuit={%22cols%22:[[%22H%22,%22H%22,%22H%22,%22H%22,%22H%22],[1,%22Z%22,%22Z%22,%22Z%22,1,%22%E2%8A%96%22],[1,%22Z%22,%22Z%22,1,%22Z%22,1,%22%E2%8A%96%22],[1,%22Z%22,1,%22Z%22,%22Z%22,1,1,%22%E2%8A%96%22],[1,1,%22Z%22,%22Z%22,%22Z%22,1,1,1,%22%E2%8A%96%22],[%22Z%22,%22Z%22,%22Z%22,%22Z%22,%22Z%22,1,1,1,1,%22%E2%8A%96%22],[%22Z%22,1,1,%22Z%22,%22Z%22,1,1,1,1,1,%22%E2%8A%96%22],[%22Z%22,1,%22Z%22,1,%22Z%22,1,1,1,1,1,1,%22%E2%8A%96%22],[%22Z%22,%22Z%22,1,1,%22Z%22,1,1,1,1,1,1,1,%22%E2%8A%96%22],[%22Z%22,1,%22Z%22,%22Z%22,1,1,1,1,1,1,1,1,1,%22%E2%8A%96%22],[%22Z%22,%22Z%22,1,%22Z%22,1,1,1,1,1,1,1,1,1,1,%22%E2%8A%96%22],[%22Z%22,%22Z%22,%22Z%22,1,1,1,1,1,1,1,1,1,1,1,1,%22%E2%8A%96%22],[1,%22Z^%C2%BC%22,%22Z^%C2%BC%22,%22Z^%C2%BC%22,%22Z^%C2%BC%22,%22Z^%C2%BC%22,%22Z^%C2%BC%22,%22Z^%C2%BC%22,%22Z^%C2%BC%22,%22Z^%C2%BC%22,%22Z^%C2%BC%22,%22Z^%C2%BC%22,%22Z^%C2%BC%22,%22Z^%C2%BC%22,%22Z^%C2%BC%22,%22Z^%C2%BC%22],[1,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22,%22H%22],[1,%22Measure%22,%22Measure%22,%22Measure%22,%22Measure%22,%22Measure%22,%22Measure%22,%22Measure%22,%22Measure%22,%22Measure%22,%22Measure%22,%22Measure%22,%22Measure%22,%22Measure%22,%22Measure%22,%22Measure%22],[1,%22X%22,%22X%22,%22X%22,1,%22%E2%80%A2%22],[1,%22X%22,%22X%22,1,%22X%22,1,%22%E2%80%A2%22],[1,%22X%22,1,%22X%22,%22X%22,1,1,%22%E2%80%A2%22],[1,1,%22X%22,%22X%22,%22X%22,1,1,1,%22%E2%80%A2%22],[%22Z%22,%22X%22,%22X%22,%22X%22,%22X%22,1,1,1,1,%22%E2%80%A2%22],[%22Z%22,1,1,%22X%22,%22X%22,1,1,1,1,1,%22%E2%80%A2%22],[%22Z%22,1,%22X%22,1,%22X%22,1,1,1,1,1,1,%22%E2%80%A2%22],[%22Z%22,%22X%22,1,1,%22X%22,1,1,1,1,1,1,1,%22%E2%80%A2%22],[%22Z%22,1,%22X%22,%22X%22,1,1,1,1,1,1,1,1,1,%22%E2%80%A2%22],[%22Z%22,%22X%22,1,%22X%22,1,1,1,1,1,1,1,1,1,1,%22%E2%80%A2%22],[%22Z%22,%22X%22,%22X%22,1,1,1,1,1,1,1,1,1,1,1,1,%22%E2%80%A2%22],[%22X%22],[1,%22Chance4%22],[%22Amps1%22]]}'
    c = cirq.quirk_url_to_circuit(quirk_url)
    qasm = cirq.qasm(c)
    with open('msd.qasm', 'w') as f:
        f.write(qasm)
fetch_from_quirk()